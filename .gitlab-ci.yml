image: silex/emacs:master-alpine-ci

stages:
  - publish

.publish: &publish
  script:
  - make publish
  cache:
    paths:
      - .packages/
      - .timestamps/
    policy: pull-push
  artifacts:
    paths:
    - public

pages:
  stage: publish
  <<: *publish
  only:
  - master
